! ##################################################################
! DEVICE: ASW-A2
! ROLE: Access Layer Switch (Site A)
!
! BUSINESS PURPOSE:
! Provides secure wired access for user workstations and IP phones,
! enforcing endpoint-level security and segmentation.
!
! TECHNICAL RESPONSIBILITIES:
! - Data and voice VLAN access
! - DHCP Snooping and ARP Inspection
! - Port security with multi-MAC allowance for voice endpoints
!
! SECURITY & OPERABILITY:
! - Edge protection using PortFast and BPDU Guard
! - Trusted uplinks toward distribution layer
!
! SCOPE NOTE:
! CCNA access-layer switching implemented with enterprise endpoint
! security principles.
! ##################################################################

version 15.0
no service timestamps log datetime msec
no service timestamps debug datetime msec
no service password-encryption

hostname ASW-A2

enable secret <REDACTED>
username cisco secret <REDACTED>

ip ssh version 2
ip domain-name jeremysitlab.com
ip name-server 10.5.0.4

lldp run

ip dhcp snooping
ip dhcp snooping vlan 10,20,40,99
no ip dhcp snooping information option

ip arp inspection vlan 10,20,40,99
ip arp inspection validate src-mac dst-mac ip

spanning-tree mode rapid-pvst
spanning-tree extend system-id

interface FastEthernet0/1
 description USER_WITH_IP_PHONE
 switchport mode access
 switchport access vlan 10
 switchport voice vlan 20
 switchport nonegotiate
 switchport port-security
 switchport port-security maximum 2
 switchport port-security violation restrict
 switchport port-security mac-address sticky
 ip dhcp snooping limit rate 15
 spanning-tree portfast
 spanning-tree bpduguard enable
 no lldp transmit

interface range FastEthernet0/2 - 24
 shutdown

interface GigabitEthernet0/1
 description UPLINK_TO_DSW
 switchport trunk native vlan 1000
 switchport trunk allowed vlan 10,20,40,99
 switchport mode trunk
 switchport nonegotiate
 ip dhcp snooping trust
 ip arp inspection trust

interface GigabitEthernet0/2
 description UPLINK_TO_DSW
 switchport trunk native vlan 1000
 switchport trunk allowed vlan 10,20,40,99
 switchport mode trunk
 switchport nonegotiate
 ip dhcp snooping trust
 ip arp inspection trust

interface Vlan99
 description MANAGEMENT
 ip address 10.0.0.5 255.255.255.240

interface Vlan1
 shutdown

ip default-gateway 10.0.0.1

no cdp run
snmp-server community SNMPSTRING RO
logging 10.5.0.4

line con 0
 login local
 exec-timeout 30 0
 logging synchronous

line vty 0 15
 login local
 transport input ssh
 access-class 1 in
 logging synchronous

ntp trusted-key 1
ntp server 10.0.0.76 key 1
